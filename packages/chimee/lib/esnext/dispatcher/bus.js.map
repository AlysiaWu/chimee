{"version":3,"file":"bus.js","sourceRoot":"","sources":["../../../src/dispatcher/bus.ts"],"names":[],"mappings":"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"}